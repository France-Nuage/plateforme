syntax = "proto3";

package francenuage.fr.api.controlplane.v1.infrastructure;

import "google/protobuf/timestamp.proto";
import "validate.proto";

// Datacenters service providers operations to manage datacenter resources.
service Datacenters {
  // List retrieves information about Human-readable available datacenters.
  // Returns a collection of datacenters.
  rpc List(ListDatacentersRequest) returns (ListDatacentersResponse);
}

// Datacenter represents a physical datacenter.
message Datacenter {
    // Unique identifier for the datacenter
    string id = 1 [(validate.rules).string = {
        min_len: 1,
        max_len: 36,
        pattern: "^[a-zA-Z0-9_-]+$"  // Alphanumeric with underscores and hyphens
    }];

    // Human-readable name of the datacenter
    string name = 2 [(validate.rules).string = {
        min_len: 1,
        max_len: 64,
        pattern: "^[a-zA-Z0-9_\\- ]+$"  // Alphanumeric with spaces, underscores and hyphens
    }];

    // Creation time of the datacenter
    google.protobuf.Timestamp created_at = 3;

    // Time of the datacenter's last update
    google.protobuf.Timestamp updated_at = 4;
}

// ListDatacenterRequest is an empty message for listing datacenters.
message ListDatacentersRequest {}

// ListDatacentersResponse contains a collection of datacenter information.
message ListDatacentersResponse {
    // List of datacenter details
    repeated Datacenter datacenters = 1;
}
